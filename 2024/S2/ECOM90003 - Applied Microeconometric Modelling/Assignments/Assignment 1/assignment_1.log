--------------------------------------------------------------------------
      name:  <unnamed>
       log:  C:\Users\joshc\OneDrive\Desktop\git\mae_unimelb\2024\S2\ECOM9
> 0003 - Applied Microeconometric Modelling\Assignments\Assignment 1\assig
> nment_1.log
  log type:  text
 opened on:  31 Aug 2024, 14:21:55

. 
. * Import Data
. 
. use Educ_PolEcon_Data, clear

. 
. 
. ************************************************************************
. ********************************** Q8 **********************************
. ************************************************************************
. 
. 
. //a) # of unique years and villages?
. 
. levelsof year // 6 different years
1986 1990 1993 1996 2000 2003

. 
. distinct v_id // There are 9855 unique villages

       |        Observations
       |      total   distinct
-------+----------------------
  v_id |      59130       9855

. 
. 
. 
. 
. 
. //b) 
. 
. // # schools constructed b/w 1974 & 1978?
. 
. summarize num_PSINPRES1980 if year == 1986, detail // 8810 schools were 
> constructed

                      num_PSINPRES1980
-------------------------------------------------------------
      Percentiles      Smallest
 1%            0              0
 5%            0              0
10%            0              0       Obs               9,855
25%            0              0       Sum of wgt.       9,855

50%            1                      Mean           .8939625
                        Largest       Std. dev.      .7249078
75%            1              2
90%            2              2       Variance       .5254912
95%            2              2       Skewness       .1635792
99%            2              2       Kurtosis       1.910764

. 
. 
. // Average number of schools on the villages?
. 
. mean num_PSINPRES1980 if year == 1986 // 0.894 is the average

Mean estimation                              Number of obs = 9,855

------------------------------------------------------------------
                 |       Mean   Std. err.     [95% conf. interval]
-----------------+------------------------------------------------
num_PSINPRES1980 |   .8939625   .0073022      .8796486    .9082763
------------------------------------------------------------------

. 
. 
. 
. 
. //c) What prop. of villages had 0, 1 or 2 schools?
. 
. tabulate num_PSINPRES1980 // 0 == 32.14, 1 == 46.33, 2 == 21.53.

num_PSINPRE |
      S1980 |      Freq.     Percent        Cum.
------------+-----------------------------------
          0 |     19,002       32.14       32.14
          1 |     27,396       46.33       78.47
          2 |     12,732       21.53      100.00
------------+-----------------------------------
      Total |     59,130      100.00

. 
. 
. 
. ************************************************************************
. ********************************** Q9 **********************************
. ************************************************************************
. 
. // Creating table 1
. 
. 
. preserve

. 
. duplicates drop v_id, force

Duplicates in terms of v_id

(49,275 observations deleted)

. 
. tabulate ele1v_post92

    Year of |
      first |
   election |
  post 1992 |      Freq.     Percent        Cum.
------------+-----------------------------------
       1992 |        403        4.09        4.09
       1993 |        679        6.89       10.98
       1994 |        564        5.72       16.70
       1995 |        231        2.34       19.05
       1996 |        106        1.08       20.12
       1997 |      1,244       12.62       32.74
       1998 |      2,846       28.88       61.62
       1999 |      3,548       36.00       97.63
       2000 |        234        2.37      100.00
------------+-----------------------------------
      Total |      9,855      100.00

. 
. restore

. 
. 
. ************************************************************************
. ******************************** TABLE 2 *******************************
. ************************************************************************
. 
. // Creating table 2
. 
. 
. // Step 1
. 
. generate post92 = 0

. 
. replace post92 = 1 if year >= ele1v_post92
(22,775 real changes made)

. 
. // Step 2
. 
. generate interaction = post92 * num_dev

. 
. 
. // Creating actual table
. 
. local outcome_var dum doc safe

. 
. eststo clear

. 
. foreach y in `outcome_var' {
  2.         
.         eststo: quietly reg `y' post92 num_dev interaction, cl(idkab_num
> )
  3.         eststo: quietly areg `y' post92 num_dev interaction, absorb(y
> ear) cl(idkab_num)
  4.         eststo: quietly areg `y' post92 num_dev interaction, absorb(y
> ear v_id) cl(idkab_num)
  5.         
. }
(est1 stored)
(est2 stored)
(est3 stored)
(est4 stored)
(est5 stored)
(est6 stored)
(est7 stored)
(est8 stored)
(est9 stored)

. 
. esttab using "table_2.csv", b(%5.3f) se obslast r2 star(* 0.1 ** 0.05 **
> * 0.01) label replace keep(post92 interaction) title(Table 2. The effect
>  of school construction on public good provision)
(output written to table_2.csv)

. 
. 
. 
. ************************************************************************
. ******************************** TABLE 3 *******************************
. ************************************************************************
. 
. eststo clear

. 
. foreach y in `outcome_var' {
  2.         
.         eststo: quietly areg `y' post92 i.post92##i.num_PSINPRES1980, ab
> sorb(year v_id) cl(idkab_num)
  3.         
. }
(est1 stored)
(est2 stored)
(est3 stored)

. 
. esttab using "table_3.csv", b(%5.3f) se obslast r2 star(* 0.1 ** 0.05 **
> * 0.01) label replace title (Table 3. Intensity of School Construction) 
> keep(post92 1.post92#1.num_PSINPRES1980 1.post92#2.num_PSINPRES1980)
(output written to table_3.csv)

. 
. 
end of do-file

. exit, clear
